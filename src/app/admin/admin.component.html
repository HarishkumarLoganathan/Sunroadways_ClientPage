
<app-header></app-header>
<body>
    

<br>
    <div class="card mx-auto">
      <div class="card-header">
        <h2>Branch Login</h2>
      </div>
      <div class="card-body">
        <form #branchloginform="ngForm" (ngSubmit)="BranchLoginSubmit()" >
          <div class="form-group">

            <label for="username">Select City:</label>
            <select class="form-control" name="city_location" #cityuplocation="ngModel"[(ngModel)]="city_location" required>
              <option *ngFor="let location of cloc" >{{ location }} </option>
          </select>
          <div *ngIf="cityuplocation.invalid && cityuplocation.touched" style="color:red"> 
            <div *ngIf="cityuplocation.errors?.['required']" style="color:red"> Please Select the Pickup Location</div>
           </div>
           </div>

           <div class="form-group">
           <label for="name"><b>Select Branch</b></label>
           <select class="form-control" #selectbranch="ngModel" name="branch" [(ngModel)]="branch" >
             <ng-container *ngFor="let branch of Branches|keyvalue">
               <ng-container *ngIf="branch.key == city_location">
                 <ng-container *ngFor="let branch of branch.value">
              <option>{{ branch }}</option>
             </ng-container>
             </ng-container>
              </ng-container>
         </select>
         </div>
         <div class="form-group">
            <label for="username">Username:</label>
            <input type="text" #branchemail="ngModel" name="branch_email" [(ngModel)]="branch_email"class="form-control" placeholder="Enter username" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
            <div *ngIf="branchemail.invalid && branchemail.touched" style="color:red"> 
              <div *ngIf="branchemail.errors?.['pattern']" style="color:red"> pattern_mismatch
              </div>
              <div *ngIf="branchemail.errors?.['required']" style="color:red"> Please Enter the email</div>
              </div>
              </div>
              <div class="form-group">
                <label for="name"><b>Password</b></label>
                <input type="text" class="form-control"  #password= "ngModel" name="branch_password" [(ngModel)]="branch_password"  placeholder= "Password with min 8 characters with atleast 1 uppercase and 1 lowercase and 1 digit and a special character" required minlength="8"  pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,}$" >
                <div *ngIf="password.invalid && password.touched" style="color:red"> 
                   <div *ngIf="password.errors?.['required']" style="color:red"> Please Enter the Password</div>
                <div *ngIf="password.errors?.['pattern'] " style="color:red"> invalid password pattern</div>
                <div *ngIf="password.errors?.['minlength'] " style="color:red">Min length should be 8</div>
             </div>
                
             

                   
              </div>
          <button type="submit" class="btn btn-primary" [disabled]="branchloginform.invalid">Login</button>
        </form>
      </div>
      <div class="card-footer py-3">
    <a  (click)="forgetpassword()" class="text-left text-danger"> forgot password ?</a>


      </div>
    </div>
    <br>
</body>
  
  <app-footer></app-footer>